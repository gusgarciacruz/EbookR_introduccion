<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 ggplot2 | Una breve introducción a R</title>
  <meta name="description" content="8 ggplot2 | Una breve introducción a R" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="8 ggplot2 | Una breve introducción a R" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 ggplot2 | Una breve introducción a R" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="herramientas-programacion.html"/>
<link rel="next" href="dplyr.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="book.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Una breve introducción a R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introducción</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#motivación"><i class="fa fa-check"></i><b>1.1</b> Motivación</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#empezando"><i class="fa fa-check"></i><b>1.2</b> Empezando</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#información-adicional"><i class="fa fa-check"></i><b>1.3</b> Información adicional</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="primeros-ejemplos.html"><a href="primeros-ejemplos.html"><i class="fa fa-check"></i><b>2</b> Primeros ejemplos de comandos en R</a><ul>
<li class="chapter" data-level="2.1" data-path="primeros-ejemplos.html"><a href="primeros-ejemplos.html#r-como-calculadora"><i class="fa fa-check"></i><b>2.1</b> R como calculadora</a></li>
<li class="chapter" data-level="2.2" data-path="primeros-ejemplos.html"><a href="primeros-ejemplos.html#objetos"><i class="fa fa-check"></i><b>2.2</b> Objetos</a></li>
<li class="chapter" data-level="2.3" data-path="primeros-ejemplos.html"><a href="primeros-ejemplos.html#escalares-vectores-y-matrices"><i class="fa fa-check"></i><b>2.3</b> Escalares, vectores y matrices</a></li>
<li class="chapter" data-level="2.4" data-path="primeros-ejemplos.html"><a href="primeros-ejemplos.html#funciones"><i class="fa fa-check"></i><b>2.4</b> Funciones</a></li>
<li class="chapter" data-level="2.5" data-path="primeros-ejemplos.html"><a href="primeros-ejemplos.html#plots"><i class="fa fa-check"></i><b>2.5</b> Plots</a></li>
<li class="chapter" data-level="2.6" data-path="primeros-ejemplos.html"><a href="primeros-ejemplos.html#scripts"><i class="fa fa-check"></i><b>2.6</b> Scripts</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estructura-datos.html"><a href="estructura-datos.html"><i class="fa fa-check"></i><b>3</b> Estructura de datos</a><ul>
<li class="chapter" data-level="3.1" data-path="estructura-datos.html"><a href="estructura-datos.html#vectores"><i class="fa fa-check"></i><b>3.1</b> Vectores</a></li>
<li class="chapter" data-level="3.2" data-path="estructura-datos.html"><a href="estructura-datos.html#matrices"><i class="fa fa-check"></i><b>3.2</b> Matrices</a></li>
<li class="chapter" data-level="3.3" data-path="estructura-datos.html"><a href="estructura-datos.html#data-frames"><i class="fa fa-check"></i><b>3.3</b> Data frames</a></li>
<li class="chapter" data-level="3.4" data-path="estructura-datos.html"><a href="estructura-datos.html#listas"><i class="fa fa-check"></i><b>3.4</b> Listas</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="leyendo-datos.html"><a href="leyendo-datos.html"><i class="fa fa-check"></i><b>4</b> Leyendo y creando bases de datos</a><ul>
<li class="chapter" data-level="4.1" data-path="leyendo-datos.html"><a href="leyendo-datos.html#datos-no-disponibles-valores-faltantes-o-missing-data"><i class="fa fa-check"></i><b>4.1</b> Datos no disponibles (Valores faltantes o <em>missing data</em>)</a></li>
<li class="chapter" data-level="4.2" data-path="leyendo-datos.html"><a href="leyendo-datos.html#leyendo-datos-de-archivos-raw-csv-excel-y-stata"><i class="fa fa-check"></i><b>4.2</b> Leyendo datos de archivos raw, csv, Excel y Stata</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="estadisticas-descriptivas.html"><a href="estadisticas-descriptivas.html"><i class="fa fa-check"></i><b>5</b> Estadísticas descriptivas</a><ul>
<li class="chapter" data-level="5.1" data-path="estadisticas-descriptivas.html"><a href="estadisticas-descriptivas.html#función-quantile-para-calcular-otros-momentos-de-la-distribución"><i class="fa fa-check"></i><b>5.1</b> Función <em>quantile</em> para calcular otros momentos de la distribución</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="gráficos.html"><a href="gráficos.html"><i class="fa fa-check"></i><b>6</b> Gráficos</a><ul>
<li class="chapter" data-level="6.1" data-path="gráficos.html"><a href="gráficos.html#opciones-para-editar-los-gráficos"><i class="fa fa-check"></i><b>6.1</b> Opciones para editar los gráficos</a></li>
<li class="chapter" data-level="6.2" data-path="gráficos.html"><a href="gráficos.html#algunos-tipos-de-gráficos"><i class="fa fa-check"></i><b>6.2</b> Algunos tipos de gráficos</a><ul>
<li class="chapter" data-level="6.2.1" data-path="gráficos.html"><a href="gráficos.html#scatterplot"><i class="fa fa-check"></i><b>6.2.1</b> <em>Scatterplot</em></a></li>
<li class="chapter" data-level="6.2.2" data-path="gráficos.html"><a href="gráficos.html#histograma"><i class="fa fa-check"></i><b>6.2.2</b> Histograma</a></li>
<li class="chapter" data-level="6.2.3" data-path="gráficos.html"><a href="gráficos.html#diagramas-de-densidad"><i class="fa fa-check"></i><b>6.2.3</b> Diagramas de densidad</a></li>
<li class="chapter" data-level="6.2.4" data-path="gráficos.html"><a href="gráficos.html#gráficos-de-líneas"><i class="fa fa-check"></i><b>6.2.4</b> Gráficos de líneas</a></li>
<li class="chapter" data-level="6.2.5" data-path="gráficos.html"><a href="gráficos.html#gráfico-de-caja-o-boxplot"><i class="fa fa-check"></i><b>6.2.5</b> Gráfico de caja o <em>boxplot</em></a></li>
<li class="chapter" data-level="6.2.6" data-path="gráficos.html"><a href="gráficos.html#gráficos-simultáneos"><i class="fa fa-check"></i><b>6.2.6</b> Gráficos simultáneos</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="gráficos.html"><a href="gráficos.html#guardando-gráficos"><i class="fa fa-check"></i><b>6.3</b> Guardando gráficos</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="herramientas-programacion.html"><a href="herramientas-programacion.html"><i class="fa fa-check"></i><b>7</b> Herramientas de programación</a><ul>
<li class="chapter" data-level="7.1" data-path="herramientas-programacion.html"><a href="herramientas-programacion.html#condicional-if"><i class="fa fa-check"></i><b>7.1</b> Condicional <em>if</em></a></li>
<li class="chapter" data-level="7.2" data-path="herramientas-programacion.html"><a href="herramientas-programacion.html#ciclo-for"><i class="fa fa-check"></i><b>7.2</b> Ciclo <em>for</em></a></li>
<li class="chapter" data-level="7.3" data-path="herramientas-programacion.html"><a href="herramientas-programacion.html#escribiendo-tus-propias-funciones"><i class="fa fa-check"></i><b>7.3</b> Escribiendo tus propias funciones</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>8</b> <em>ggplot2</em></a><ul>
<li class="chapter" data-level="8.1" data-path="ggplot2.html"><a href="ggplot2.html#instalación-de-ggplot2"><i class="fa fa-check"></i><b>8.1</b> Instalación de <em>ggplot2</em></a></li>
<li class="chapter" data-level="8.2" data-path="ggplot2.html"><a href="ggplot2.html#creando-gráficos-con-ggplot2"><i class="fa fa-check"></i><b>8.2</b> Creando gráficos con <em>ggplot2</em></a><ul>
<li class="chapter" data-level="8.2.1" data-path="ggplot2.html"><a href="ggplot2.html#mapeo"><i class="fa fa-check"></i><b>8.2.1</b> Mapeo</a></li>
<li class="chapter" data-level="8.2.2" data-path="ggplot2.html"><a href="ggplot2.html#geoms"><i class="fa fa-check"></i><b>8.2.2</b> <em>Geoms</em></a></li>
<li class="chapter" data-level="8.2.3" data-path="ggplot2.html"><a href="ggplot2.html#capas"><i class="fa fa-check"></i><b>8.2.3</b> Capas</a></li>
<li class="chapter" data-level="8.2.4" data-path="ggplot2.html"><a href="ggplot2.html#gráficas-en-varios-paneles"><i class="fa fa-check"></i><b>8.2.4</b> Gráficas en varios paneles</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="ggplot2.html"><a href="ggplot2.html#otros-ejemplos-de-gráficos-con-ggplot2"><i class="fa fa-check"></i><b>8.3</b> Otros ejemplos de gráficos con <em>ggplot2</em></a><ul>
<li class="chapter" data-level="8.3.1" data-path="ggplot2.html"><a href="ggplot2.html#gráfico-de-densidad"><i class="fa fa-check"></i><b>8.3.1</b> Gráfico de densidad</a></li>
<li class="chapter" data-level="8.3.2" data-path="ggplot2.html"><a href="ggplot2.html#boxplot"><i class="fa fa-check"></i><b>8.3.2</b> Boxplot</a></li>
<li class="chapter" data-level="8.3.3" data-path="ggplot2.html"><a href="ggplot2.html#histograma-y-diagrama-de-barras"><i class="fa fa-check"></i><b>8.3.3</b> Histograma y diagrama de barras</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="ggplot2.html"><a href="ggplot2.html#temas-en-ggplot2"><i class="fa fa-check"></i><b>8.4</b> Temas en <em>ggplot2</em></a></li>
<li class="chapter" data-level="8.5" data-path="ggplot2.html"><a href="ggplot2.html#exportando-gráficos"><i class="fa fa-check"></i><b>8.5</b> Exportando gráficos</a></li>
<li class="chapter" data-level="8.6" data-path="index.html"><a href="index.html#información-adicional"><i class="fa fa-check"></i><b>8.6</b> Información adicional</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>9</b> <em>dplyr</em></a><ul>
<li class="chapter" data-level="9.1" data-path="dplyr.html"><a href="dplyr.html#instalación-de-dplyr"><i class="fa fa-check"></i><b>9.1</b> Instalación de dplyr</a></li>
<li class="chapter" data-level="9.2" data-path="dplyr.html"><a href="dplyr.html#principales-verbos-de-dplyr"><i class="fa fa-check"></i><b>9.2</b> Principales verbos de <em>dplyr</em></a></li>
<li class="chapter" data-level="9.3" data-path="dplyr.html"><a href="dplyr.html#select"><i class="fa fa-check"></i><b>9.3</b> <em>select()</em></a></li>
<li class="chapter" data-level="9.4" data-path="dplyr.html"><a href="dplyr.html#arrange"><i class="fa fa-check"></i><b>9.4</b> <em>arrange()</em></a></li>
<li class="chapter" data-level="9.5" data-path="dplyr.html"><a href="dplyr.html#filter"><i class="fa fa-check"></i><b>9.5</b> <em>filter()</em></a></li>
<li class="chapter" data-level="9.6" data-path="dplyr.html"><a href="dplyr.html#mutate"><i class="fa fa-check"></i><b>9.6</b> <em>mutate()</em></a></li>
<li class="chapter" data-level="9.7" data-path="dplyr.html"><a href="dplyr.html#rename"><i class="fa fa-check"></i><b>9.7</b> <em>rename()</em></a></li>
<li class="chapter" data-level="9.8" data-path="dplyr.html"><a href="dplyr.html#summarise"><i class="fa fa-check"></i><b>9.8</b> <em>summarise()</em></a></li>
<li class="chapter" data-level="9.9" data-path="dplyr.html"><a href="dplyr.html#operador-pipe"><i class="fa fa-check"></i><b>9.9</b> Operador pipe: %&gt;%</a></li>
<li class="chapter" data-level="9.10" data-path="dplyr.html"><a href="dplyr.html#combinando-bases-de-datos"><i class="fa fa-check"></i><b>9.10</b> Combinando bases de datos</a></li>
<li class="chapter" data-level="9.11" data-path="index.html"><a href="index.html#información-adicional"><i class="fa fa-check"></i><b>9.11</b> Información adicional</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tidyr.html"><a href="tidyr.html"><i class="fa fa-check"></i><b>10</b> <em>tidyr</em></a><ul>
<li class="chapter" data-level="10.1" data-path="tidyr.html"><a href="tidyr.html#instalación-de-tidyr"><i class="fa fa-check"></i><b>10.1</b> Instalación de tidyr</a></li>
<li class="chapter" data-level="10.2" data-path="tidyr.html"><a href="tidyr.html#principales-5-funciones-de-tidyr"><i class="fa fa-check"></i><b>10.2</b> Principales 5 funciones de <em>tidyr</em></a></li>
<li class="chapter" data-level="10.3" data-path="index.html"><a href="index.html#información-adicional"><i class="fa fa-check"></i><b>10.3</b> Información adicional</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="games.html"><a href="games.html"><i class="fa fa-check"></i><b>11</b> Juegos para procrastinar con RStudio</a><ul>
<li class="chapter" data-level="11.1" data-path="games.html"><a href="games.html#el-paquete-rcade"><i class="fa fa-check"></i><b>11.1</b> El paquete <code>Rcade</code></a></li>
<li class="chapter" data-level="11.2" data-path="index.html"><a href="index.html#información-adicional"><i class="fa fa-check"></i><b>11.2</b> Información adicional</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publicado con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Una breve introducción a R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ggplot2" class="section level1">
<h1><span class="header-section-number">8</span> <em>ggplot2</em></h1>
<p><em>ggplot2</em> es un sistema que permite crear gráficos complejos a partir de un conjunto de datos. Es un paquete cuya estructura deja que el usuario especifique cuáles variables desea graficar, cómo quiere que sean presentadas, entre otras propiedades acerca de la visualización de las mismas.</p>
<p><em>ggplot2</em> se basa en la <em>gramática de gráficos</em> cuya idea es poder construir un gráfico a partir de datos, geoms (marcas visuales representando puntos de datos) y un sistema de coordenadas.</p>
<div id="instalación-de-ggplot2" class="section level2">
<h2><span class="header-section-number">8.1</span> Instalación de <em>ggplot2</em></h2>
<p>La manera más sencilla de obtener <em>ggplot2</em> es instalando <em>tidyverse</em> en conjunto de la siguiente manera:</p>
<pre><code>install.packages(&quot;tidyverse&quot;)</code></pre>
<p>También se puede instalar solamente ggplot2:</p>
<pre><code>install.packages(&quot;ggplot2&quot;)</code></pre>
<p>Alternativamente, se puede optar por instalar la versión de GitHub:</p>
<pre><code>install.packages(&quot;devtools&quot;)
devtools::install_github(&quot;tidyverse/ggplot2&quot;)</code></pre>
</div>
<div id="creando-gráficos-con-ggplot2" class="section level2">
<h2><span class="header-section-number">8.2</span> Creando gráficos con <em>ggplot2</em></h2>
<div id="mapeo" class="section level3">
<h3><span class="header-section-number">8.2.1</span> Mapeo</h3>
<p>El mapeo se debe definir usando la función <em>aes()</em> dentro de la función <em>ggplot()</em>. La función <em>aes()</em> se usa para definir cuáles son las variables que se quieren graficar y de qué manera se quieren presentar: sus ejes, su forma y color así como su tamaño, entre otros. Esta función se refiere a las características estáticas que tendrá el gráfico.</p>
<p>A continuación hará el mapeo de las variables educ y wage de la base de datos <em>wage1</em> del libro de Wooldridge:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">library</span>(<span class="st">&quot;ggplot2&quot;</span>) <span class="co"># Se carga el paquete de ggplot2</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">library</span>(haven) <span class="co"># Se carga el paquete para leer archivos .dta</span></a>
<a class="sourceLine" id="cb4-3" title="3">data &lt;-<span class="st"> </span><span class="kw">read_dta</span>(<span class="st">&quot;http://fmwww.bc.edu/ec-p/data/wooldridge/wage1.dta&quot;</span>)</a>
<a class="sourceLine" id="cb4-4" title="4"><span class="kw">ggplot</span>(<span class="dt">data =</span> data, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> educ, <span class="dt">y =</span> wage))</a></code></pre></div>
<p><img src="EbookR_introduccion_files/figure-html/gg1-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="geoms" class="section level3">
<h3><span class="header-section-number">8.2.2</span> <em>Geoms</em></h3>
<p>Los <em>geoms</em> indican cómo se representan los datos en el gráfico, bien sea mediante líneas, barras, puntos, etc. Los geoms más utilizados son:</p>
<ul>
<li><strong>geom_line()</strong>: Usado para líneas de tendencia, series de tiempo, etc.</li>
<li><strong>geom_point()</strong>: Usado para diagramas de dispersión, diagramas de puntos, etc.</li>
<li><strong>geom_boxplot()</strong>: Usado para diagramas de caja.</li>
<li><strong>geom_density()</strong>: Usado para diagramas de densidad.</li>
<li><strong>geom_histogram()</strong>: Usado para histogramas de frecuencias.</li>
<li><strong>geom_bar()</strong>: Usado para diagramas de barras.</li>
</ul>
<p>Siempre se debe llamar a la función <em>geom</em> para generar el gráfico. Para agregar un <em>geom</em> se usa el operador “+”, de esta manera tembién se puede hacer uso de varios <em>geom</em> simultáneamente.</p>
<p>Graficaremos la relación entre salario y años de educación mediante un diagrama de puntos:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> data, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> educ, <span class="dt">y =</span> wage)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Años de educación&quot;, y=&quot;</span>Salario hora<span class="st">&quot;, title=&quot;</span>Relación salarios<span class="op">-</span>educación&quot;)</a></code></pre></div>
<p><img src="EbookR_introduccion_files/figure-html/gg2-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Se puede usar <em>color</em> para distinguir si el salario le corresponde a una mujer o a un hombre. Se usa <em>factor</em> para especificar la variable que usaremos para distinguir el color es cualitativa.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> data, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> educ, <span class="dt">y =</span> wage, <span class="dt">color =</span> <span class="kw">factor</span>(female))) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="st">       </span><span class="kw">geom_point</span>(<span class="dt">size=</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="st">       </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Años de educación&quot;, y=&quot;</span>Salario hora<span class="st">&quot;, title=&quot;</span>Relación salarios<span class="op">-</span>educación&quot;, <span class="dt">color=</span><span class="st">&quot;Género&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="st">       </span><span class="kw">scale_color_manual</span>(<span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Hombres&quot;</span>, <span class="st">&quot;Mujeres&quot;</span>), <span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>)) </a></code></pre></div>
<p><img src="EbookR_introduccion_files/figure-html/gg3-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="capas" class="section level3">
<h3><span class="header-section-number">8.2.3</span> Capas</h3>
<p>Con <em>ggplot</em> se puede visualizar dos tipos de gráficos, o más, en uno, usando capas. A continuación ilustraremos la relación que existe entre el salario y los años de educación, usando un <em>scatterplot</em> y sobreponiendo una línea de regresión lineal simple, para esto usamos <em>geom_smooth()</em> en otra capa:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> data, <span class="kw">aes</span>(<span class="dt">x =</span> educ, <span class="dt">y =</span> wage)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="st">    </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Años de educación&quot;, y=&quot;</span>Salario hora<span class="st">&quot;, title=&quot;</span>Relación salarios<span class="op">-</span>educación&quot;)</a></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="EbookR_introduccion_files/figure-html/gg4-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Con <em>ggplot</em> también podemos usar la función <em>escala</em> para modificar las unidades de una variable. En este caso la usaremos para que se muestre la variable <em>wage</em> (eje Y) en logaritmo. Además, usaremos la función <em>alpha</em> para modificar la transparencia de los puntos en el gráfico. La línea de la regresión lineal también puede tener tamaños distintos, en este caso modificaremos su tamaño usando la función <em>size</em>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> data, <span class="kw">aes</span>(<span class="dt">x =</span> educ, <span class="dt">y =</span> wage)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="st">    </span><span class="kw">scale_y_log10</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="st">    </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>, <span class="dt">size=</span><span class="fl">1.5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Años de educación&quot;, y=&quot;</span>Log salario hora<span class="st">&quot;, title=&quot;</span>Relación salarios<span class="op">-</span>educación&quot;)</a></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="EbookR_introduccion_files/figure-html/gg5-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="gráficas-en-varios-paneles" class="section level3">
<h3><span class="header-section-number">8.2.4</span> Gráficas en varios paneles</h3>
<p>Para visualizar dos o más gráficos en varios paneles se debe agregar una capa <em>facet</em>. Grafiquemos la relación entre salario y años de educación distinguiendo entre hombres y mujeres:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> data, <span class="kw">aes</span>(<span class="dt">x =</span> educ, <span class="dt">y =</span> wage, <span class="dt">color =</span> <span class="kw">factor</span>(female))) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="st">    </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>,<span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="st">    </span><span class="kw">facet_grid</span>(<span class="op">~</span>female, <span class="dt">labeller =</span> <span class="kw">labeller</span>(<span class="dt">female=</span><span class="kw">c</span>(<span class="st">&quot;0&quot;</span> =<span class="st"> &quot;Hombres&quot;</span>, <span class="st">&quot;1&quot;</span> =<span class="st"> &quot;Mujeres&quot;</span>))) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Años de educación&quot;, y=&quot;</span>Salario hora<span class="st">&quot;, title=&quot;</span>Relación salarios<span class="op">-</span>educación&quot;)</a></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="EbookR_introduccion_files/figure-html/gg6-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="otros-ejemplos-de-gráficos-con-ggplot2" class="section level2">
<h2><span class="header-section-number">8.3</span> Otros ejemplos de gráficos con <em>ggplot2</em></h2>
<p>Es muy amplio el número de tipos gráficos que pueden ser realizados con <em>ggplot2</em>. A continuación se mostrarán algunos ejemplos de estos.</p>
<div id="gráfico-de-densidad" class="section level3">
<h3><span class="header-section-number">8.3.1</span> Gráfico de densidad</h3>
<p>Realicemos ahora un gráfico de densidad usando los datos de salarios, diferenciando entre hombres y mujeres. Para este gráfico se debe usar el geom <em>geom_densitiy</em>. En este caso, llenaremos el área bajo las curvas de densidad usando la función <em>fill</em>. Usaremos además la forma alternativa de estipular la estética del gráfico: haciéndolo dentro del geom de densidad.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> data) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="st">  </span><span class="kw">geom_density</span>(<span class="kw">aes</span>(<span class="dt">x =</span> wage, <span class="dt">fill =</span> <span class="kw">factor</span>(female)), <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Densidad&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Salarios hora&quot;</span>, <span class="dt">title =</span> <span class="st">&quot;Densidad de los salarios hora&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">name =</span> <span class="st">&quot;Género&quot;</span>, <span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;#122bc7&quot;</span>, <span class="st">&quot;#dc143c&quot;</span>), <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;0&quot;</span> =<span class="st"> &quot;Hombres&quot;</span>, <span class="st">&quot;1&quot;</span> =<span class="st"> &quot;Mujeres&quot;</span>))</a></code></pre></div>
<p><img src="EbookR_introduccion_files/figure-html/gg7-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="boxplot" class="section level3">
<h3><span class="header-section-number">8.3.2</span> Boxplot</h3>
<p>También realicemos un <em>boxplot</em> para comparar los salarios para hombres y mujeres. El geom que se debe usar es <em>geom_boxplot</em>, los otros parámetros se especifican de manera similar a los gráficos que hemos hecho anteriormente, de esta forma el código será:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> data) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(female), <span class="dt">y =</span> wage)) <span class="op">+</span></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y=</span><span class="st">&quot;Salario hora&quot;</span>, <span class="dt">x=</span><span class="st">&quot;Género&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">labels=</span><span class="kw">c</span>(<span class="st">&quot;Hombres&quot;</span>,<span class="st">&quot;Mujeres&quot;</span>))</a></code></pre></div>
<p><img src="EbookR_introduccion_files/figure-html/gg8-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Si se quiere, se pueden invertir las coordenadas del boxplot:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> data) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(female), <span class="dt">y =</span> wage)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y=</span><span class="st">&quot;Salario hora&quot;</span>, <span class="dt">x=</span><span class="st">&quot;Género&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">labels=</span><span class="kw">c</span>(<span class="st">&quot;Hombres&quot;</span>,<span class="st">&quot;Mujeres&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="st">  </span><span class="kw">coord_flip</span>()</a></code></pre></div>
<p><img src="EbookR_introduccion_files/figure-html/gg9-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="histograma-y-diagrama-de-barras" class="section level3">
<h3><span class="header-section-number">8.3.3</span> Histograma y diagrama de barras</h3>
<p>Generemos histogramas para los datos de años de educación de hombres y mujeres en nuestra base de datos. Primero, generemos un histograma sencillo.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> data) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> educ)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-3" title="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Años de educación&quot;, y = &quot;</span>Frecuencia<span class="st">&quot;)</span></a></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="EbookR_introduccion_files/figure-html/gg10-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Ahora, si queremos limitar el número de barras en nuestro histograma para que sea más compacto, debemos usar <em>bins</em>, de esta manera:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> data) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> educ), <span class="dt">bins=</span><span class="dv">10</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-3" title="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Años de educación&quot;, y = &quot;</span>Frecuencia<span class="st">&quot;)</span></a></code></pre></div>
<p><img src="EbookR_introduccion_files/figure-html/gg11-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>También podemos hacer que el histograma diferencia entre hombres y de mujeres. En este caso, lo haremos apilando las barras, para esto debemos especificar la función <em>position</em>, en este caso a <em>stack</em>. Así quedará entonces nuestro código:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> data) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb19-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> educ, <span class="dt">fill =</span> <span class="kw">factor</span>(female)), <span class="dt">bins=</span><span class="dv">10</span>, <span class="dt">position =</span> <span class="st">&quot;stack&quot;</span>, <span class="dt">alpha=</span><span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb19-3" title="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Años de educación&quot;, y=&quot;</span>Frecuencia<span class="st">&quot;,title = &quot;</span>Años de educación por género<span class="st">&quot;) +</span></a>
<a class="sourceLine" id="cb19-4" title="4"><span class="st">  scale_fill_manual(name = &quot;</span>Género<span class="st">&quot;, values = c(&quot;</span><span class="co">#122bc7&quot;, &quot;#dc143c&quot;), labels = c(&quot;0&quot; = &quot;Hombres&quot;, &quot;1&quot; = &quot;Mujeres&quot;))</span></a></code></pre></div>
<p><img src="EbookR_introduccion_files/figure-html/gg12-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="temas-en-ggplot2" class="section level2">
<h2><span class="header-section-number">8.4</span> Temas en <em>ggplot2</em></h2>
<p><em>ggplot2</em> provee también temas predeterminados para la estética de los gráficos, en estos temas se especifican aspectos sobre los ejes, el tamaño del gráfico, los colores, entre otros. Hay diversos temas en <em>ggplot2</em>, tanto los que están incluidos en él como algunos que crea la comunidad.</p>
<p>Usemos por ejemplo los temas <em>theme_bw</em>, <em>theme_classic</em> y <em>theme_dark</em> en uno de los gráficos que creamos anteriormente, para diferenciar entre ellos:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> data, <span class="kw">aes</span>(<span class="dt">x =</span> educ, <span class="dt">y =</span> wage, <span class="dt">color =</span> <span class="kw">factor</span>(female))) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-2" title="2"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-3" title="3"><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>,<span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-4" title="4"><span class="st">  </span><span class="kw">facet_grid</span>(<span class="op">~</span>female, <span class="dt">labeller =</span> <span class="kw">labeller</span>(<span class="dt">female=</span><span class="kw">c</span>(<span class="st">&quot;0&quot;</span> =<span class="st"> &quot;Hombres&quot;</span>, <span class="st">&quot;1&quot;</span> =<span class="st"> &quot;Mujeres&quot;</span>))) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-5" title="5"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Años de educación&quot;, y=&quot;</span>Salario hora<span class="st">&quot;, title=&quot;</span>Relación salarios<span class="op">-</span>educación&quot;) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-6" title="6"><span class="st">  </span><span class="kw">theme_bw</span>()</a></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="EbookR_introduccion_files/figure-html/gg13-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> data, <span class="kw">aes</span>(<span class="dt">x =</span> educ, <span class="dt">y =</span> wage, <span class="dt">color =</span> <span class="kw">factor</span>(female))) <span class="op">+</span></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb22-3" title="3"><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>,<span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb22-4" title="4"><span class="st">  </span><span class="kw">facet_grid</span>(<span class="op">~</span>female, <span class="dt">labeller =</span> <span class="kw">labeller</span>(<span class="dt">female=</span><span class="kw">c</span>(<span class="st">&quot;0&quot;</span> =<span class="st"> &quot;Hombres&quot;</span>, <span class="st">&quot;1&quot;</span> =<span class="st"> &quot;Mujeres&quot;</span>))) <span class="op">+</span></a>
<a class="sourceLine" id="cb22-5" title="5"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Años de educación&quot;, y=&quot;</span>Salario hora<span class="st">&quot;, title=&quot;</span>Relación salarios<span class="op">-</span>educación&quot;) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb22-6" title="6"><span class="st">  </span><span class="kw">theme_classic</span>()</a></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="EbookR_introduccion_files/figure-html/gg14-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> data, <span class="kw">aes</span>(<span class="dt">x =</span> educ, <span class="dt">y =</span> wage, <span class="dt">color =</span> <span class="kw">factor</span>(female))) <span class="op">+</span></a>
<a class="sourceLine" id="cb24-2" title="2"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-3" title="3"><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>,<span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-4" title="4"><span class="st">  </span><span class="kw">facet_grid</span>(<span class="op">~</span>female, <span class="dt">labeller =</span> <span class="kw">labeller</span>(<span class="dt">female=</span><span class="kw">c</span>(<span class="st">&quot;0&quot;</span> =<span class="st"> &quot;Hombres&quot;</span>, <span class="st">&quot;1&quot;</span> =<span class="st"> &quot;Mujeres&quot;</span>))) <span class="op">+</span></a>
<a class="sourceLine" id="cb24-5" title="5"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Años de educación&quot;, y=&quot;</span>Salario hora<span class="st">&quot;, title=&quot;</span>Relación salarios<span class="op">-</span>educación&quot;) <span class="op">+</span></a>
<a class="sourceLine" id="cb24-6" title="6"><span class="st">  </span><span class="kw">theme_dark</span>()</a></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="EbookR_introduccion_files/figure-html/gg15-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Como se puede observar, los temas modifican la estética de los gráficos. Hay muchos paquetes de gráficos que se pueden encontrar en internet y que ofrencen gran variedad de apariencias para los gráficos.</p>
</div>
<div id="exportando-gráficos" class="section level2">
<h2><span class="header-section-number">8.5</span> Exportando gráficos</h2>
<p>Para exportar gráficos realizados con <em>ggplot</em> se usa la función <em>ggsave()</em>. En esta, se puede especificar el ancho y el alto de la gráfica, así como los <em>dots per inch (dpi)</em>, para modificar la resolución con que son guardados. Para la última gráfica realizada primero debemos asignarla a una variable, para luego guardarla como png en la carpeta que se desee.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" title="1">g1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> data, <span class="kw">aes</span>(<span class="dt">x =</span> educ, <span class="dt">y =</span> wage, <span class="dt">color =</span> <span class="kw">factor</span>(female))) <span class="op">+</span></a>
<a class="sourceLine" id="cb26-2" title="2"><span class="st">      </span><span class="kw">geom_point</span>(<span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb26-3" title="3"><span class="st">      </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>,<span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb26-4" title="4"><span class="st">      </span><span class="kw">facet_grid</span>(<span class="op">~</span>female, <span class="dt">labeller =</span> <span class="kw">labeller</span>(<span class="dt">female=</span><span class="kw">c</span>(<span class="st">&quot;0&quot;</span> =<span class="st"> &quot;Hombres&quot;</span>, <span class="st">&quot;1&quot;</span> =<span class="st"> &quot;Mujeres&quot;</span>))) <span class="op">+</span></a>
<a class="sourceLine" id="cb26-5" title="5"><span class="st">      </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Años de educación&quot;, y=&quot;</span>Salario hora<span class="st">&quot;, title=&quot;</span>Relación salarios<span class="op">-</span>educación&quot;)</a>
<a class="sourceLine" id="cb26-6" title="6">      <span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;./docs/images/g1.png&quot;</span>, <span class="dt">plot =</span> g1, <span class="dt">width =</span> <span class="dv">12</span>, <span class="dt">height =</span> <span class="dv">10</span>, <span class="dt">dpi =</span> <span class="dv">300</span>, <span class="dt">units =</span> <span class="st">&quot;cm&quot;</span>)</a></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
</div>
<div id="información-adicional" class="section level2">
<h2><span class="header-section-number">8.6</span> Información adicional</h2>
<p><em>ggplot2</em> tiene muchas más funciones de las brevemente explicadas. Se pueden hacer gran variedad de gráficos y se pueden mostrar de muchas distintas maneras. Una hoja de referencia sobre visualización de datos con ggplot2 se puede consultar en el siguiente link: <a href="https://rstudio.com/wp-content/uploads/2015/04/ggplot2-spanish.pdf" class="uri">https://rstudio.com/wp-content/uploads/2015/04/ggplot2-spanish.pdf</a></p>
<div class="rmdcomment">
<p>
<strong>Tarea 12:</strong> Utilizando la base de datos <em>bwght.dta</em> (los datos pueden ser descargados con la siguiente función read_dta(“<a href="http://fmwww.bc.edu/ec-p/data/wooldridge/bwght.dta" class="uri">http://fmwww.bc.edu/ec-p/data/wooldridge/bwght.dta</a>”)) del libro de <em>Wooldridge</em> realice un análisis del impacto que pueden tener distintos factores en el peso de un bebé al nacer. Para esto, realice las siguientes gráficas y analícelas brevemente:
</p>
<ul>
<li>
<p>
Un diagrama de dispersión que relacione el peso del bebé al nacer y el ingreso familiar.
</p>
</li>
<li>
<p>
Un diagrama de dispersión que relacione el número de cigarrillos que fumaba la madre del bebé diariamente mientras estaba embarazada y el peso del bebé al nacer. Diferencie entre un bebé hombre y mujer.
</p>
</li>
<li>
<p>
Un gráfico de dos paneles que muestre, en uno, la relación entre los cigarrillos fumados diariamente y el impuesto que estos tenían y, en otro, la relación entre los cigarillos fumados diariamente y el precio de los mismos.
</p>
</li>
<li>
<p>
Un gráfico de densidad para el peso del bebé al nacer, diferenciando entre bebés hombres y muejeres.
</p>
</li>
<li>
<p>
Un <em>boxplot</em> del ingreso familiar.
</p>
</li>
<li>
<p>
En un gráfico con dos paneles grafique el modelo de regresión lineal simple que relacione el peso del bebé al nacer con el número de cigarrillos fumados diariamente, diferenciando entre bebés hombres y mujeres.
</p>
</li>
</ul>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="herramientas-programacion.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dplyr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/07-ggplot2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["EbookR_introduccion.pdf", "EbookR_introduccion.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
