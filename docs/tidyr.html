<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10 tidyr | Una breve introducción a R</title>
  <meta name="description" content="10 tidyr | Una breve introducción a R" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="10 tidyr | Una breve introducción a R" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10 tidyr | Una breve introducción a R" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dplyr.html"/>
<link rel="next" href="games.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="book.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Una breve introducción a R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introducción</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#motivación"><i class="fa fa-check"></i><b>1.1</b> Motivación</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#empezando"><i class="fa fa-check"></i><b>1.2</b> Empezando</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#información-adicional"><i class="fa fa-check"></i><b>1.3</b> Información adicional</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="primeros-ejemplos.html"><a href="primeros-ejemplos.html"><i class="fa fa-check"></i><b>2</b> Primeros ejemplos de comandos en R</a><ul>
<li class="chapter" data-level="2.1" data-path="primeros-ejemplos.html"><a href="primeros-ejemplos.html#r-como-calculadora"><i class="fa fa-check"></i><b>2.1</b> R como calculadora</a></li>
<li class="chapter" data-level="2.2" data-path="primeros-ejemplos.html"><a href="primeros-ejemplos.html#objetos"><i class="fa fa-check"></i><b>2.2</b> Objetos</a></li>
<li class="chapter" data-level="2.3" data-path="primeros-ejemplos.html"><a href="primeros-ejemplos.html#escalares-vectores-y-matrices"><i class="fa fa-check"></i><b>2.3</b> Escalares, vectores y matrices</a></li>
<li class="chapter" data-level="2.4" data-path="primeros-ejemplos.html"><a href="primeros-ejemplos.html#funciones"><i class="fa fa-check"></i><b>2.4</b> Funciones</a></li>
<li class="chapter" data-level="2.5" data-path="primeros-ejemplos.html"><a href="primeros-ejemplos.html#plots"><i class="fa fa-check"></i><b>2.5</b> Plots</a></li>
<li class="chapter" data-level="2.6" data-path="primeros-ejemplos.html"><a href="primeros-ejemplos.html#scripts"><i class="fa fa-check"></i><b>2.6</b> Scripts</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estructura-datos.html"><a href="estructura-datos.html"><i class="fa fa-check"></i><b>3</b> Estructura de datos</a><ul>
<li class="chapter" data-level="3.1" data-path="estructura-datos.html"><a href="estructura-datos.html#vectores"><i class="fa fa-check"></i><b>3.1</b> Vectores</a></li>
<li class="chapter" data-level="3.2" data-path="estructura-datos.html"><a href="estructura-datos.html#matrices"><i class="fa fa-check"></i><b>3.2</b> Matrices</a></li>
<li class="chapter" data-level="3.3" data-path="estructura-datos.html"><a href="estructura-datos.html#data-frames"><i class="fa fa-check"></i><b>3.3</b> Data frames</a></li>
<li class="chapter" data-level="3.4" data-path="estructura-datos.html"><a href="estructura-datos.html#listas"><i class="fa fa-check"></i><b>3.4</b> Listas</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="leyendo-datos.html"><a href="leyendo-datos.html"><i class="fa fa-check"></i><b>4</b> Leyendo y creando bases de datos</a><ul>
<li class="chapter" data-level="4.1" data-path="leyendo-datos.html"><a href="leyendo-datos.html#datos-no-disponibles-valores-faltantes-o-missing-data"><i class="fa fa-check"></i><b>4.1</b> Datos no disponibles (Valores faltantes o <em>missing data</em>)</a></li>
<li class="chapter" data-level="4.2" data-path="leyendo-datos.html"><a href="leyendo-datos.html#leyendo-datos-de-archivos-raw-csv-excel-y-stata"><i class="fa fa-check"></i><b>4.2</b> Leyendo datos de archivos raw, csv, Excel y Stata</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="estadisticas-descriptivas.html"><a href="estadisticas-descriptivas.html"><i class="fa fa-check"></i><b>5</b> Estadísticas descriptivas</a><ul>
<li class="chapter" data-level="5.1" data-path="estadisticas-descriptivas.html"><a href="estadisticas-descriptivas.html#función-quantile-para-calcular-otros-momentos-de-la-distribución"><i class="fa fa-check"></i><b>5.1</b> Función <em>quantile</em> para calcular otros momentos de la distribución</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="gráficos.html"><a href="gráficos.html"><i class="fa fa-check"></i><b>6</b> Gráficos</a><ul>
<li class="chapter" data-level="6.1" data-path="gráficos.html"><a href="gráficos.html#opciones-para-editar-los-gráficos"><i class="fa fa-check"></i><b>6.1</b> Opciones para editar los gráficos</a></li>
<li class="chapter" data-level="6.2" data-path="gráficos.html"><a href="gráficos.html#algunos-tipos-de-gráficos"><i class="fa fa-check"></i><b>6.2</b> Algunos tipos de gráficos</a><ul>
<li class="chapter" data-level="6.2.1" data-path="gráficos.html"><a href="gráficos.html#scatterplot"><i class="fa fa-check"></i><b>6.2.1</b> <em>Scatterplot</em></a></li>
<li class="chapter" data-level="6.2.2" data-path="gráficos.html"><a href="gráficos.html#histograma"><i class="fa fa-check"></i><b>6.2.2</b> Histograma</a></li>
<li class="chapter" data-level="6.2.3" data-path="gráficos.html"><a href="gráficos.html#diagramas-de-densidad"><i class="fa fa-check"></i><b>6.2.3</b> Diagramas de densidad</a></li>
<li class="chapter" data-level="6.2.4" data-path="gráficos.html"><a href="gráficos.html#gráficos-de-líneas"><i class="fa fa-check"></i><b>6.2.4</b> Gráficos de líneas</a></li>
<li class="chapter" data-level="6.2.5" data-path="gráficos.html"><a href="gráficos.html#gráfico-de-caja-o-boxplot"><i class="fa fa-check"></i><b>6.2.5</b> Gráfico de caja o <em>boxplot</em></a></li>
<li class="chapter" data-level="6.2.6" data-path="gráficos.html"><a href="gráficos.html#gráficos-simultáneos"><i class="fa fa-check"></i><b>6.2.6</b> Gráficos simultáneos</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="gráficos.html"><a href="gráficos.html#guardando-gráficos"><i class="fa fa-check"></i><b>6.3</b> Guardando gráficos</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="herramientas-programacion.html"><a href="herramientas-programacion.html"><i class="fa fa-check"></i><b>7</b> Herramientas de programación</a><ul>
<li class="chapter" data-level="7.1" data-path="herramientas-programacion.html"><a href="herramientas-programacion.html#condicional-if"><i class="fa fa-check"></i><b>7.1</b> Condicional <em>if</em></a></li>
<li class="chapter" data-level="7.2" data-path="herramientas-programacion.html"><a href="herramientas-programacion.html#ciclo-for"><i class="fa fa-check"></i><b>7.2</b> Ciclo <em>for</em></a></li>
<li class="chapter" data-level="7.3" data-path="herramientas-programacion.html"><a href="herramientas-programacion.html#escribiendo-tus-propias-funciones"><i class="fa fa-check"></i><b>7.3</b> Escribiendo tus propias funciones</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>8</b> <em>ggplot2</em></a><ul>
<li class="chapter" data-level="8.1" data-path="ggplot2.html"><a href="ggplot2.html#instalación-de-ggplot2"><i class="fa fa-check"></i><b>8.1</b> Instalación de <em>ggplot2</em></a></li>
<li class="chapter" data-level="8.2" data-path="ggplot2.html"><a href="ggplot2.html#creando-gráficos-con-ggplot2"><i class="fa fa-check"></i><b>8.2</b> Creando gráficos con <em>ggplot2</em></a><ul>
<li class="chapter" data-level="8.2.1" data-path="ggplot2.html"><a href="ggplot2.html#mapeo"><i class="fa fa-check"></i><b>8.2.1</b> Mapeo</a></li>
<li class="chapter" data-level="8.2.2" data-path="ggplot2.html"><a href="ggplot2.html#geoms"><i class="fa fa-check"></i><b>8.2.2</b> <em>Geoms</em></a></li>
<li class="chapter" data-level="8.2.3" data-path="ggplot2.html"><a href="ggplot2.html#capas"><i class="fa fa-check"></i><b>8.2.3</b> Capas</a></li>
<li class="chapter" data-level="8.2.4" data-path="ggplot2.html"><a href="ggplot2.html#gráficas-en-varios-paneles"><i class="fa fa-check"></i><b>8.2.4</b> Gráficas en varios paneles</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="ggplot2.html"><a href="ggplot2.html#otros-ejemplos-de-gráficos-con-ggplot2"><i class="fa fa-check"></i><b>8.3</b> Otros ejemplos de gráficos con <em>ggplot2</em></a><ul>
<li class="chapter" data-level="8.3.1" data-path="ggplot2.html"><a href="ggplot2.html#gráfico-de-densidad"><i class="fa fa-check"></i><b>8.3.1</b> Gráfico de densidad</a></li>
<li class="chapter" data-level="8.3.2" data-path="ggplot2.html"><a href="ggplot2.html#boxplot"><i class="fa fa-check"></i><b>8.3.2</b> Boxplot</a></li>
<li class="chapter" data-level="8.3.3" data-path="ggplot2.html"><a href="ggplot2.html#histograma-y-diagrama-de-barras"><i class="fa fa-check"></i><b>8.3.3</b> Histograma y diagrama de barras</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="ggplot2.html"><a href="ggplot2.html#temas-en-ggplot2"><i class="fa fa-check"></i><b>8.4</b> Temas en <em>ggplot2</em></a></li>
<li class="chapter" data-level="8.5" data-path="ggplot2.html"><a href="ggplot2.html#exportando-gráficos"><i class="fa fa-check"></i><b>8.5</b> Exportando gráficos</a></li>
<li class="chapter" data-level="8.6" data-path="index.html"><a href="index.html#información-adicional"><i class="fa fa-check"></i><b>8.6</b> Información adicional</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>9</b> <em>dplyr</em></a><ul>
<li class="chapter" data-level="9.1" data-path="dplyr.html"><a href="dplyr.html#instalación-de-dplyr"><i class="fa fa-check"></i><b>9.1</b> Instalación de dplyr</a></li>
<li class="chapter" data-level="9.2" data-path="dplyr.html"><a href="dplyr.html#principales-verbos-de-dplyr"><i class="fa fa-check"></i><b>9.2</b> Principales verbos de <em>dplyr</em></a></li>
<li class="chapter" data-level="9.3" data-path="dplyr.html"><a href="dplyr.html#select"><i class="fa fa-check"></i><b>9.3</b> <em>select()</em></a></li>
<li class="chapter" data-level="9.4" data-path="dplyr.html"><a href="dplyr.html#arrange"><i class="fa fa-check"></i><b>9.4</b> <em>arrange()</em></a></li>
<li class="chapter" data-level="9.5" data-path="dplyr.html"><a href="dplyr.html#filter"><i class="fa fa-check"></i><b>9.5</b> <em>filter()</em></a></li>
<li class="chapter" data-level="9.6" data-path="dplyr.html"><a href="dplyr.html#mutate"><i class="fa fa-check"></i><b>9.6</b> <em>mutate()</em></a></li>
<li class="chapter" data-level="9.7" data-path="dplyr.html"><a href="dplyr.html#rename"><i class="fa fa-check"></i><b>9.7</b> <em>rename()</em></a></li>
<li class="chapter" data-level="9.8" data-path="dplyr.html"><a href="dplyr.html#summarise"><i class="fa fa-check"></i><b>9.8</b> <em>summarise()</em></a></li>
<li class="chapter" data-level="9.9" data-path="dplyr.html"><a href="dplyr.html#operador-pipe"><i class="fa fa-check"></i><b>9.9</b> Operador pipe: %&gt;%</a></li>
<li class="chapter" data-level="9.10" data-path="dplyr.html"><a href="dplyr.html#combinando-bases-de-datos"><i class="fa fa-check"></i><b>9.10</b> Combinando bases de datos</a></li>
<li class="chapter" data-level="9.11" data-path="index.html"><a href="index.html#información-adicional"><i class="fa fa-check"></i><b>9.11</b> Información adicional</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tidyr.html"><a href="tidyr.html"><i class="fa fa-check"></i><b>10</b> <em>tidyr</em></a><ul>
<li class="chapter" data-level="10.1" data-path="tidyr.html"><a href="tidyr.html#instalación-de-tidyr"><i class="fa fa-check"></i><b>10.1</b> Instalación de tidyr</a></li>
<li class="chapter" data-level="10.2" data-path="tidyr.html"><a href="tidyr.html#principales-5-funciones-de-tidyr"><i class="fa fa-check"></i><b>10.2</b> Principales 5 funciones de <em>tidyr</em></a></li>
<li class="chapter" data-level="10.3" data-path="index.html"><a href="index.html#información-adicional"><i class="fa fa-check"></i><b>10.3</b> Información adicional</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="games.html"><a href="games.html"><i class="fa fa-check"></i><b>11</b> Juegos para procrastinar con RStudio</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publicado con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Una breve introducción a R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tidyr" class="section level1">
<h1><span class="header-section-number">10</span> <em>tidyr</em></h1>
<p><em>tidyr</em> es un paquete que pertenece al <em>tidyverse</em>, a quienes también pertenecen <em>ggplot2</em> y <em>dplyr</em>. Este paquete es muy útil para manipular datos, y más específicamente, crear datos <em>“tidy”</em>, es decir, datos bien ordenados.</p>
<p>Los datos bien ordenados, de acuerdo a <em>tidyr.tidyverse.org</em>, tiene tres características:</p>
<ul>
<li>Cada una de las columnas de nuestros datos son una variable</li>
<li>Cada fila es una observación</li>
<li>Cada celda es un valor particular.</li>
</ul>
<p>Las ventajas de emplear este paquete es que permite manipular los datos de una forma más comprensiva y eficiente.</p>
<div id="instalación-de-tidyr" class="section level2">
<h2><span class="header-section-number">10.1</span> Instalación de tidyr</h2>
<p>Como se mencionaba anteriormente para ggplot2 y dyplr, puede instalarse <em>tidyverse</em> de la siguiente manera:</p>
<pre fig.align="center"><code>install.packages(&quot;tidyverse&quot;)</code></pre>
<p>También puede instalarse solamente tidyr:</p>
<pre fig.align="center"><code>install.packages(&quot;tidyr&quot;)</code></pre>
</div>
<div id="principales-5-funciones-de-tidyr" class="section level2">
<h2><span class="header-section-number">10.2</span> Principales 5 funciones de <em>tidyr</em></h2>
<p>Existen 5 funciones de <em>tidyr</em> que hacen parte de las explicadas en <em>tidyr.tidyverse.org</em>: <em>Pivotting</em>, <em>Rectangling</em>, <em>Nesting</em>, <em>Splitting and Combining</em> y <em>Missings</em></p>
<p><strong>Pivotting</strong></p>
<p>Las funciones <em>pivot_longer()</em> o <em>pivot_wider()</em> que pertencen a esta categoría, permiten convertir entre formas largas (<em>long</em>) y anchas (<em>wide</em>) las bases de datos. Veamos un ejemplo.</p>
<p>Para este fin utilizaremos la base de datos <em>relig_income</em> que viene en el paquete <em>tidyr</em>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">library</span>(tidyr)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">colnames</span>(relig_income)</a></code></pre></div>
<pre><code>##  [1] &quot;religion&quot;           &quot;&lt;$10k&quot;              &quot;$10-20k&quot;           
##  [4] &quot;$20-30k&quot;            &quot;$30-40k&quot;            &quot;$40-50k&quot;           
##  [7] &quot;$50-75k&quot;            &quot;$75-100k&quot;           &quot;$100-150k&quot;         
## [10] &quot;&gt;150k&quot;              &quot;Don&#39;t know/refused&quot;</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">head</span>(relig_income, <span class="dv">5</span>)</a></code></pre></div>
<pre><code>## # A tibble: 5 x 11
##   religion `&lt;$10k` `$10-20k` `$20-30k` `$30-40k` `$40-50k` `$50-75k` `$75-100k`
##   &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
## 1 Agnostic      27        34        60        81        76       137        122
## 2 Atheist       12        27        37        52        35        70         73
## 3 Buddhist      27        21        30        34        33        58         62
## 4 Catholic     418       617       732       670       638      1116        949
## 5 Don’t k~      15        14        15        11        10        35         21
## # ... with 3 more variables: `$100-150k` &lt;dbl&gt;, `&gt;150k` &lt;dbl&gt;, `Don&#39;t
## #   know/refused` &lt;dbl&gt;</code></pre>
<p>Esta base de datos cuenta con las variables <em>religion</em> y rangos de ingreso, y los valores corresponden al número de personas que respondieron en cada rango.</p>
<p>Ahora se va a transformar a una base de datos larga (<em>long</em>), es decir, se incrementará el número de filas y disminuirá el número de clumnas. Para ello, utilizamos la función <em>pivot_longer()</em> para reorganizar los datos de la siguiente manera:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">data &lt;-<span class="st"> </span>relig_income <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="st">        </span><span class="kw">pivot_longer</span>(<span class="op">!</span>religion, <span class="dt">names_to =</span> <span class="st">&quot;income&quot;</span>, <span class="dt">values_to =</span> <span class="st">&quot;count&quot;</span>)</a>
<a class="sourceLine" id="cb7-3" title="3"><span class="kw">head</span>(data, <span class="dv">10</span>)</a></code></pre></div>
<pre><code>## # A tibble: 10 x 3
##    religion income             count
##    &lt;chr&gt;    &lt;chr&gt;              &lt;dbl&gt;
##  1 Agnostic &lt;$10k                 27
##  2 Agnostic $10-20k               34
##  3 Agnostic $20-30k               60
##  4 Agnostic $30-40k               81
##  5 Agnostic $40-50k               76
##  6 Agnostic $50-75k              137
##  7 Agnostic $75-100k             122
##  8 Agnostic $100-150k            109
##  9 Agnostic &gt;150k                 84
## 10 Agnostic Don&#39;t know/refused    96</code></pre>
<p>Se observa que la nueva base de datos contiene sólo 3 columnas: <em>religion</em>, <em>income</em> y <em>count</em> y al pasar de ancha a larga el número de observaciones se ha incrementado y este incremento se debe a que en la nueva base de datos cada religión se repite el rango de ingresos que había en las columnas.</p>
<p>Intentemos entender los argumentos de la función <em>pivot_longer()</em>. Utilizamos, como en ejemplos pasados, el muy útil operador <em>%&gt;%</em> para indicarle a R que la base de datos a manipular es <em>relig_income</em>. Por otro lado, el primer argumento de la función <em>pivot_longer()</em> indica que se van a manipular todas las columnas exceptuando <em>religion</em> (recordemos los operadores lógicos, especialmente <em>!</em>). El segundo argumento, le da nombre a la variable que se creó a partir de los datos guardados en columnas; y el tercero argumento, le da nombre a la variable que se creó a partir de los datos guardados en las celdas.</p>
<p>Para pasar la base de datos larga a ancha, se utliza la función <em>pivot_wider</em> de la siguiente forma:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">data2 &lt;-<span class="st"> </span>data <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="st">        </span><span class="kw">pivot_wider</span>(<span class="dt">names_from =</span> <span class="st">&quot;income&quot;</span>, <span class="dt">values_from =</span> <span class="st">&quot;count&quot;</span>)</a>
<a class="sourceLine" id="cb9-3" title="3"><span class="kw">head</span>(data2, <span class="dv">10</span>)</a></code></pre></div>
<pre><code>## # A tibble: 10 x 11
##    religion `&lt;$10k` `$10-20k` `$20-30k` `$30-40k` `$40-50k` `$50-75k` `$75-100k`
##    &lt;chr&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
##  1 Agnostic      27        34        60        81        76       137        122
##  2 Atheist       12        27        37        52        35        70         73
##  3 Buddhist      27        21        30        34        33        58         62
##  4 Catholic     418       617       732       670       638      1116        949
##  5 Don’t k~      15        14        15        11        10        35         21
##  6 Evangel~     575       869      1064       982       881      1486        949
##  7 Hindu          1         9         7         9        11        34         47
##  8 Histori~     228       244       236       238       197       223        131
##  9 Jehovah~      20        27        24        24        21        30         15
## 10 Jewish        19        19        25        25        30        95         69
## # ... with 3 more variables: `$100-150k` &lt;dbl&gt;, `&gt;150k` &lt;dbl&gt;, `Don&#39;t
## #   know/refused` &lt;dbl&gt;</code></pre>
<p><strong>Rectangling</strong></p>
<p><em>Rectangling</em> tiene una serie de funciones que permite tomar bases de datos que son listas de elementos numéricas y no y crear una base de datos con filas y columnas.</p>
<p>Como ejemplo, utilizaremos la base de datos <em>gh_users</em> del paquete <em>repurrrsive</em> que contiene información sobre usuarios de GitHub y ha sido recuperda de la API de GitHub.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> Esta base de datos es una lista con 6 componentes y cada uno contiene información de 6 usuarios, tales como: username, GitHub id, y fecha de afiliación.</p>
<p>las funciones de este tipo, como <em>unnest_longer()</em> o <em>unnest_wider()</em>, convierten listas anidadas en <em>“Tidy tibbles”</em> más simples. Por ahora, podemos interpretar un <em>“Tibble”</em> como una especie de data frame. Veamos un ejemplo.</p>
<p>Para ver la información del primer usuario, el código sería:</p>
<pre fig.align="center"><code>install.packages(&quot;repurrrsive&quot;)</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">library</span>(repurrrsive)</a>
<a class="sourceLine" id="cb12-2" title="2"><span class="kw">head</span>(gh_users, <span class="dt">n =</span> 1L) <span class="co"># n = 1L es para indicarle que es la primera lista</span></a></code></pre></div>
<pre><code>## [[1]]
## [[1]]$login
## [1] &quot;gaborcsardi&quot;
## 
## [[1]]$id
## [1] 660288
## 
## [[1]]$avatar_url
## [1] &quot;https://avatars.githubusercontent.com/u/660288?v=3&quot;
## 
## [[1]]$gravatar_id
## [1] &quot;&quot;
## 
## [[1]]$url
## [1] &quot;https://api.github.com/users/gaborcsardi&quot;
## 
## [[1]]$html_url
## [1] &quot;https://github.com/gaborcsardi&quot;
## 
## [[1]]$followers_url
## [1] &quot;https://api.github.com/users/gaborcsardi/followers&quot;
## 
## [[1]]$following_url
## [1] &quot;https://api.github.com/users/gaborcsardi/following{/other_user}&quot;
## 
## [[1]]$gists_url
## [1] &quot;https://api.github.com/users/gaborcsardi/gists{/gist_id}&quot;
## 
## [[1]]$starred_url
## [1] &quot;https://api.github.com/users/gaborcsardi/starred{/owner}{/repo}&quot;
## 
## [[1]]$subscriptions_url
## [1] &quot;https://api.github.com/users/gaborcsardi/subscriptions&quot;
## 
## [[1]]$organizations_url
## [1] &quot;https://api.github.com/users/gaborcsardi/orgs&quot;
## 
## [[1]]$repos_url
## [1] &quot;https://api.github.com/users/gaborcsardi/repos&quot;
## 
## [[1]]$events_url
## [1] &quot;https://api.github.com/users/gaborcsardi/events{/privacy}&quot;
## 
## [[1]]$received_events_url
## [1] &quot;https://api.github.com/users/gaborcsardi/received_events&quot;
## 
## [[1]]$type
## [1] &quot;User&quot;
## 
## [[1]]$site_admin
## [1] FALSE
## 
## [[1]]$name
## [1] &quot;Gábor Csárdi&quot;
## 
## [[1]]$company
## [1] &quot;Mango Solutions, @MangoTheCat &quot;
## 
## [[1]]$blog
## [1] &quot;http://gaborcsardi.org&quot;
## 
## [[1]]$location
## [1] &quot;Chippenham, UK&quot;
## 
## [[1]]$email
## [1] &quot;csardi.gabor@gmail.com&quot;
## 
## [[1]]$hireable
## NULL
## 
## [[1]]$bio
## NULL
## 
## [[1]]$public_repos
## [1] 52
## 
## [[1]]$public_gists
## [1] 6
## 
## [[1]]$followers
## [1] 303
## 
## [[1]]$following
## [1] 22
## 
## [[1]]$created_at
## [1] &quot;2011-03-09T17:29:25Z&quot;
## 
## [[1]]$updated_at
## [1] &quot;2016-10-11T11:05:06Z&quot;</code></pre>
<p>Se observa que la lista tiene varios objetos, ahora lo que queremos es organizar las 6 listas en formato de base de datos estándar, esto es, que cada información del usuario sea una variable (columna) y tener esto para los 6 usuarios (filas). Lo primero que hacemos es utilizar la función <em>tibble()</em>, que nos permite poner cada una de las 6 listas en una fila. El código es el siguiente:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1">usuarios &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">user =</span> gh_users)</a></code></pre></div>
<pre><code>View(usuarios)</code></pre>
<p><img src="docs/images/tibble.png" style="width:50.0%" /></p>
<p>Al observar nuestra base de datos <em>usuarios</em>, nos damos cuenta que ya tiene un formato de data frame pero la información se encuentra anidada, es decir, en cada fila se encuentra toda la información para cada usuario. Miremos la información para la primera fila (usuario):</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"> <span class="kw">names</span>(usuarios<span class="op">$</span>user[[<span class="dv">1</span>]])</a></code></pre></div>
<pre><code>##  [1] &quot;login&quot;               &quot;id&quot;                  &quot;avatar_url&quot;         
##  [4] &quot;gravatar_id&quot;         &quot;url&quot;                 &quot;html_url&quot;           
##  [7] &quot;followers_url&quot;       &quot;following_url&quot;       &quot;gists_url&quot;          
## [10] &quot;starred_url&quot;         &quot;subscriptions_url&quot;   &quot;organizations_url&quot;  
## [13] &quot;repos_url&quot;           &quot;events_url&quot;          &quot;received_events_url&quot;
## [16] &quot;type&quot;                &quot;site_admin&quot;          &quot;name&quot;               
## [19] &quot;company&quot;             &quot;blog&quot;                &quot;location&quot;           
## [22] &quot;email&quot;               &quot;hireable&quot;            &quot;bio&quot;                
## [25] &quot;public_repos&quot;        &quot;public_gists&quot;        &quot;followers&quot;          
## [28] &quot;following&quot;           &quot;created_at&quot;          &quot;updated_at&quot;</code></pre>
<p>Podemos ver ahora cada uno de los componentes, lo que nos gustaría transformar a variables (columnas). Para ello podemos utilizar la función <em>unnest_wider()</em> de la siguiente forma:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1">  data &lt;-<span class="st"> </span>usuarios <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-2" title="2"><span class="st">          </span><span class="kw">unnest_wider</span>(user)</a></code></pre></div>
<pre><code>View(data)</code></pre>
<p><img src="docs/images/unnest.png" style="width:70.0%" /></p>
<p>La función anterior, en efecto, nos permitió convertir cada componente en una columna, sin embargo, puede que no necesitemos todos esos componentes. Para ello, utilizamos la función <em>hoist()</em> que permite seleccionar y renombrar las columnas con las que nos queremos quedar en la base de datos final. El código es el siguiente:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1">data &lt;-<span class="st"> </span>usuarios <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-2" title="2"><span class="st">         </span><span class="kw">hoist</span>(user,</a>
<a class="sourceLine" id="cb20-3" title="3">               <span class="dt">seguidores =</span> <span class="st">&quot;followers&quot;</span>,</a>
<a class="sourceLine" id="cb20-4" title="4">               <span class="dt">login =</span> <span class="st">&quot;login&quot;</span>,</a>
<a class="sourceLine" id="cb20-5" title="5">               <span class="dt">url =</span> <span class="st">&quot;url&quot;</span>)</a></code></pre></div>
<pre><code>View(data)</code></pre>
<p><img src="docs/images/hoist.png" style="width:70.0%" /></p>
<p>Como se puede observar, ya tenemos una base de datos con un formato estádar.</p>
<p><strong>Nesting</strong></p>
<p>Las funciones <em>Nesting</em> son opuestas a las <em>Rectangling</em> y permiten convertir un grupo de componentes en una sola fila anidada.</p>
<p>Miremos el siguiente ejemplo. Se genera un data frame con la función <em>tibble()</em>, la cual permite crear columnas como listas. El código es el siguiente:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1">df_anidado &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb22-2" title="2">    <span class="dt">f =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</a>
<a class="sourceLine" id="cb22-3" title="3">    <span class="dt">data =</span> <span class="kw">list</span>(</a>
<a class="sourceLine" id="cb22-4" title="4">      <span class="kw">tibble</span>(<span class="dt">a =</span> <span class="dv">2</span>, <span class="dt">b =</span> <span class="dv">4</span>),</a>
<a class="sourceLine" id="cb22-5" title="5">      <span class="kw">tibble</span>(<span class="dt">a =</span> <span class="dv">15</span><span class="op">:</span><span class="dv">29</span>, <span class="dt">b =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">15</span>),</a>
<a class="sourceLine" id="cb22-6" title="6">      <span class="kw">tibble</span>(<span class="dt">a =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb22-7" title="7">    )</a>
<a class="sourceLine" id="cb22-8" title="8">  )</a></code></pre></div>
<pre><code>View(df_anidado)</code></pre>
<p><img src="docs/images/df_anidado.png" style="width:30.0%" /></p>
<p>Hemos creado un data frame de tipo <em>tibble</em> anidado. En data, en cada fila es posible visualizar las variables y los valores. El código para visualizar cada elemento es:</p>
<pre><code>View(df_anidado[[2]][[1]])
View(df_anidado[[2]][[2]])
View(df_anidado[[2]][[3]])</code></pre>
<p><img src="docs/images/df_anidado1.png" style="width:30.0%" /></p>
<p><img src="docs/images/df_anidado2.png" style="width:30.0%" /></p>
<p><img src="docs/images/df_anidado3.png" style="width:30.0%" /></p>
<p>Para desanidar cada conjunto de datos se utiliza la función <em>unnest()</em> de la siguiente forma:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1">data &lt;-<span class="st"> </span>df_anidado <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb25-2" title="2"><span class="st">  </span><span class="kw">unnest</span>(data)</a></code></pre></div>
<pre><code>View(data)</code></pre>
<p><img src="docs/images/unnest2.png" style="width:20.0%" /></p>
<p>Le hemos indicado a la función <em>unnest()</em> que desanidara todos los componentes anidados del data frame principal. Ahora podemos observar cada uno de esos elementos.</p>
<p><strong>Splitting and Combining</strong></p>
<p>Las funciones de este tipo nos permiten convertir una sola columnaen varias, o lo contrario, convertir varias columnas en una sola. A este tipo pertenecen las funciones <em>separate()</em>, <em>extract()</em> o <em>unite()</em>.</p>
<p>Veamos un ejemplo para la función <em>separate</em>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="kw">c</span>(<span class="st">&quot;a.b&quot;</span>, <span class="ot">NA</span>, <span class="st">&quot;a.d&quot;</span>, <span class="st">&quot;b.c&quot;</span>))</a></code></pre></div>
<pre><code>View(df)</code></pre>
<p><img src="docs/images/df.png" style="width:20.0%" /></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" title="1">data &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb29-2" title="2"><span class="st">        </span><span class="kw">separate</span>(a, <span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>))</a></code></pre></div>
<pre><code>View(data)</code></pre>
<p><img src="docs/images/separate1.png" style="width:20.0%" /></p>
<p>En el primer paso creamos un data frame con la función <em>data.frame()</em> que contaba con una sola columna, y lo separamos en otro data frame con dos columnas. Observemos otro ejemplo simple.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" title="1">df1 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="st">&quot;a.b.c.d&quot;</span>, <span class="st">&quot;a.d&quot;</span>, <span class="st">&quot;b.c.d&quot;</span>))</a></code></pre></div>
<pre><code>View(df1)</code></pre>
<p><img src="docs/images/df1.png" style="width:20.0%" /></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" title="1">data &lt;-<span class="st"> </span>df1 <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb33-2" title="2"><span class="st">  </span><span class="kw">separate</span>(x, <span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>))</a></code></pre></div>
<pre><code>## Warning: Expected 4 pieces. Missing pieces filled with `NA` in 2 rows [2, 3].</code></pre>
<pre><code>View(data)</code></pre>
<p><img src="docs/images/separate2.png" style="width:30.0%" /></p>
<p>La función <em>separate()</em> toma los elementos de la columna dada en el primer argumento, en este caso ‘x’ y los separa en columnas de acuerdo al vector del segundo argumento. En df1 tenemos tres elementos de caracteres. En la columna “A” van los primeros elementos de la cadena, en la “B” los segundos y así sucesivamente. En el caso de que la cadena de caracteres no tenga los suficientes componentes R llenará el espacio con ‘NA’; y ¿si quisieramos tomar solo el segundo elemento? Se podría hacer lo siguiente:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" title="1">df3 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="st">&quot;a.b&quot;</span>,<span class="st">&quot;a.d&quot;</span>, <span class="st">&quot;b.c&quot;</span>))</a>
<a class="sourceLine" id="cb36-2" title="2">df4 &lt;-<span class="st"> </span>df3 <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb36-3" title="3"><span class="st">  </span><span class="kw">separate</span>(x, <span class="kw">c</span>(<span class="ot">NA</span>, <span class="st">&quot;B&quot;</span>))</a></code></pre></div>
<pre><code>View(df4)</code></pre>
<p><img src="docs/images/df4.png" style="width:20.0%" /></p>
<p><strong>Missings</strong></p>
<p>Estas funciones nos permiten manipular los datos tipo <em>NA</em>. A este tipo pertenecen las funciones <em>drop_na()</em>, <em>complete()</em> y <em>fill()</em>.</p>
<p>En el caso de <em>drop_na()</em> tenemos el siguiente ejemplo:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="ot">NA</span>, <span class="st">&quot;a.d&quot;</span>, <span class="st">&quot;b.c&quot;</span>))</a>
<a class="sourceLine" id="cb38-2" title="2">df1 &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb38-3" title="3"><span class="st">  </span><span class="kw">separate</span>(a, <span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>)) </a></code></pre></div>
<pre><code>## Warning: Expected 2 pieces. Missing pieces filled with `NA` in 1 rows [1].</code></pre>
<pre><code>View(df1)</code></pre>
<p><img src="docs/images/df5.png" style="width:20.0%" /></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" title="1">df2 &lt;-<span class="st"> </span><span class="kw">drop_na</span>(df1)</a></code></pre></div>
<pre><code>View(df2)</code></pre>
<p><img src="docs/images/df6.png" style="width:20.0%" /></p>
<p>Se observa que ha borrado todas las filas donde habían valores <em>missing</em></p>
<p>Respecto a <em>complete()</em> tenemos la siguiente base de datos simulada y construida utilizando la función <em>separate()</em>. La primera columna representa un identificador (ID) y la idea es poner los valores :</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="kw">c</span>(<span class="st">&quot;1-a-b&quot;</span>, <span class="st">&quot;2&quot;</span>, <span class="st">&quot;3-a-d&quot;</span>, <span class="st">&quot;4-b-c&quot;</span>))</a>
<a class="sourceLine" id="cb43-2" title="2">df1 &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">separate</span>(a, <span class="kw">c</span>(<span class="st">&quot;ID&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>))</a></code></pre></div>
<pre><code>## Warning: Expected 3 pieces. Missing pieces filled with `NA` in 1 rows [2].</code></pre>
<pre><code>View(df1)</code></pre>
<p><img src="docs/images/df7.png" style="width:20.0%" /></p>
<p>Ahora, a los valores <em>missing</em> en A y B se pondran los valores 3 y 0, respectivamente. El código es el siguiente utilizando la función <em>complete()</em>:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" title="1">df2 &lt;-<span class="st"> </span><span class="kw">complete</span>(df1, <span class="kw">nesting</span>(ID,A,B), <span class="dt">fill =</span> <span class="kw">list</span>(<span class="dt">A=</span><span class="dv">3</span>,<span class="dt">B=</span><span class="dv">0</span>))</a></code></pre></div>
<pre><code>View(df2)</code></pre>
<p><img src="docs/images/df8.png" style="width:20.0%" /></p>
<p>El anterior código se puede resumir en:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="kw">c</span>(<span class="st">&quot;1-a-b&quot;</span>, <span class="st">&quot;2&quot;</span>, <span class="st">&quot;3-a-d&quot;</span>, <span class="st">&quot;4-b-c&quot;</span>))</a>
<a class="sourceLine" id="cb48-2" title="2">df1 &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb48-3" title="3"><span class="st">       </span><span class="kw">separate</span>(a, <span class="kw">c</span>(<span class="st">&quot;ID&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb48-4" title="4"><span class="st">       </span><span class="kw">complete</span>(., <span class="kw">nesting</span>(ID,A,B), <span class="dt">fill =</span> <span class="kw">list</span>(<span class="dt">A=</span><span class="dv">3</span>,<span class="dt">B=</span><span class="dv">0</span>))</a></code></pre></div>
<pre><code>## Warning: Expected 3 pieces. Missing pieces filled with `NA` in 1 rows [2].</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" title="1">df1</a></code></pre></div>
<pre><code>## # A tibble: 4 x 3
##   ID    A     B    
##   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
## 1 1     a     b    
## 2 2     3     0    
## 3 3     a     d    
## 4 4     b     c</code></pre>
</div>
<div id="información-adicional" class="section level2">
<h2><span class="header-section-number">10.3</span> Información adicional</h2>
<p>El paquete tidyr cuenta con muchas funciones más allá de las que se presentaron brevemente en este capítulo. Por otro lado, las funciones aquí presentadas pueden seguir instrucciones aún más específicas. Por esto, resulta bastante interesante consultar la documentación al respecto en el siguiente link: <a href="https://tidyr.tidyverse.org/" class="uri">https://tidyr.tidyverse.org/</a></p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="4">
<li id="fn4"><p><a href="https://www.rdocumentation.org/packages/repurrrsive/versions/1.0.0/topics/gh_users" class="uri">https://www.rdocumentation.org/packages/repurrrsive/versions/1.0.0/topics/gh_users</a><a href="tidyr.html#fnref4" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dplyr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="games.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/09-tidyr.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["EbookR_introduccion.pdf", "EbookR_introduccion.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
